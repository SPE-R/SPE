### R code from vignette source '/home/martyn/Projects/SPE/SPE/pracs/basic-e.rnw'

###################################################
### code chunk number 1: basic-e.rnw:108-109
###################################################
(12+16)*5


###################################################
### code chunk number 2: basic-e.rnw:113-114
###################################################
12+16*5


###################################################
### code chunk number 3: basic-e.rnw:161-162
###################################################
v <- c(4, 6, 1, 2.2)


###################################################
### code chunk number 4: basic-e.rnw:170-173
###################################################
v
3+v
3*v


###################################################
### code chunk number 5: basic-e.rnw:182-185
###################################################
v <- c(4, 6, NA)
3 + v
3 * v


###################################################
### code chunk number 6: basic-e.rnw:189-190
###################################################
mean(v)


###################################################
### code chunk number 7: basic-e.rnw:196-197
###################################################
mean(v, na.rm=TRUE)


###################################################
### code chunk number 8: basic-e.rnw:208-209
###################################################
length(v)


###################################################
### code chunk number 9: basic-e.rnw:217-218
###################################################
1:10


###################################################
### code chunk number 10: basic-e.rnw:223-224
###################################################
seq(from=15, to=85, by=5)


###################################################
### code chunk number 11: basic-e.rnw:229-230
###################################################
c(5, seq(from=20, to=85, by=5))


###################################################
### code chunk number 12: Create w
###################################################
w<-c(1,-1,2,-2)


###################################################
### code chunk number 13: Display w
###################################################
w


###################################################
### code chunk number 14: Structure of w
###################################################
str(w)


###################################################
### code chunk number 15: Create and display w+1
###################################################
w+1


###################################################
### code chunk number 16: Create v
###################################################
v<-seq(5,75,5)
v


###################################################
### code chunk number 17: Extend v
###################################################
v<-c(0,1,v)
v


###################################################
### code chunk number 18: Find length of v
###################################################
length(v)


###################################################
### code chunk number 19: basic-e.rnw:281-285
###################################################
x <- c(2, 7, 0, 9, 10, 23, 11, 4, 7, 8, 6, 0)
x[4]
x[3:5]
x[c(1,5,8)]


###################################################
### code chunk number 20: basic-e.rnw:290-292
###################################################
N <- length(x)
x[N + 1]


###################################################
### code chunk number 21: basic-e.rnw:297-299
###################################################
x > 10
x[x > 10]


###################################################
### code chunk number 22: basic-e.rnw:312-313
###################################################
x[x >= 10 & x <= 20]


###################################################
### code chunk number 23: basic-e.rnw:317-318
###################################################
x[x < 10 | x > 20]


###################################################
### code chunk number 24: basic-e.rnw:322-324
###################################################
x[1] <- 1000
x


###################################################
### code chunk number 25: basic-e.rnw:329-331
###################################################
x[x==0] <- 1
x


###################################################
### code chunk number 26: basic-e.rnw:338-340
###################################################
x[2:4] <- c(0, 8, 1)
x


###################################################
### code chunk number 27: basic-e.rnw:348-352
###################################################
y <- x[x < 3]
y <- y + 3
x[x < 3] <- y
x


###################################################
### code chunk number 28: basic-e.rnw:357-358
###################################################
x[x < 3] <- x[x < 3] + 3


###################################################
### code chunk number 29: basic-e.rnw:372-374
###################################################
x %% 2
ifelse(x %% 2 == 0,"even","odd")


###################################################
### code chunk number 30: basic-e.rnw:388-390
###################################################
m <- list(4, TRUE, "name of company")
m


###################################################
### code chunk number 31: basic-e.rnw:401-403
###################################################
m[1:2] #A list containing first two elements of m
m[3]   #A list containing the third element of m 


###################################################
### code chunk number 32: basic-e.rnw:407-408
###################################################
m[[3]] #Extract third element


###################################################
### code chunk number 33: basic-e.rnw:413-416
###################################################
mylist <- list(name=c("Joe","Ann","Jack","Tom"),
               age=c(34,50,27,42))
mylist


###################################################
### code chunk number 34: basic-e.rnw:421-423
###################################################
mylist$name
mylist$age


###################################################
### code chunk number 35: basic-e.rnw:432-435
###################################################
mydata <- data.frame(name=c("Joe","Ann","Jack","Tom"),
                     age=c(34,50,27,42),sex=c(1,2,1,1),
                     height=c(185,170,175,182))


###################################################
### code chunk number 36: basic-e.rnw:441-442
###################################################
mydata$height


###################################################
### code chunk number 37: basic-e.rnw:445-446
###################################################
mydata


###################################################
### code chunk number 38: basic-e.rnw:451-454
###################################################
mydata[1,] 
mydata[,c("age", "height")] 
mydata[2,4]


###################################################
### code chunk number 39: basic-e.rnw:460-462
###################################################
yourdata <- data.frame(name=c("Ann","Peter","Sue","Jack","Tom","Joe","Jane"),
                       weight=c(67,81,56,90,72,79,69))


###################################################
### code chunk number 40: basic-e.rnw:466-468
###################################################
newdata <- merge(mydata, yourdata)
newdata


###################################################
### code chunk number 41: basic-e.rnw:477-479
###################################################
newdata <- merge(mydata, yourdata, all=TRUE)
newdata


###################################################
### code chunk number 42: Looking at births data
###################################################
library(Epi)
data(births)
objects()


###################################################
### code chunk number 43: basic-e.rnw:507-508
###################################################
data(diet)


###################################################
### code chunk number 44: basic-e.rnw:515-516
###################################################
remove(diet)


###################################################
### code chunk number 45: basic-e.rnw:527-528
###################################################
head(births)


###################################################
### code chunk number 46: basic-e.rnw:531-532
###################################################
births[1, ]


###################################################
### code chunk number 47: basic-e.rnw:535-536
###################################################
births[2, ]


###################################################
### code chunk number 48: basic-e.rnw:540-541
###################################################
births[1:10, ]


###################################################
### code chunk number 49: basic-e.rnw:547-548
###################################################
subset(mydata, height < 180)


###################################################
### code chunk number 50: basic-e.rnw:555-556
###################################################
summary(births)


###################################################
### code chunk number 51: basic-e.rnw:563-564
###################################################
names(births)


###################################################
### code chunk number 52: basic-e.rnw:571-572
###################################################
summary(births$hyp)


###################################################
### code chunk number 53: basic-e.rnw:576-577
###################################################
with(births, summary(hyp))


###################################################
### code chunk number 54: Create a new variable in the workspace
###################################################
logbw <- log(births$bweight)


###################################################
### code chunk number 55: Create a new variable in the data frame
###################################################
births$logbw <- log(births$bweight)


###################################################
### code chunk number 56: basic-e.rnw:596-597
###################################################
births$bweight <- births$bweight/1000


###################################################
### code chunk number 57: Convert hyp to be a factor
###################################################
births$hyp <- factor(births$hyp, labels=c("normal", "hyper"))


###################################################
### code chunk number 58: :abel levels of sex
###################################################
births$sex<-factor(births$sex, labels = c("M", "F"))


###################################################
### code chunk number 59: Distribution of hyp
###################################################
with(births, table(hyp))


###################################################
### code chunk number 60: Distribution of hyp
###################################################
table(births$hyp)


###################################################
### code chunk number 61: Distribution of sex
###################################################
table(births$sex)
with(births, table(sex))


###################################################
### code chunk number 62: Joint distribution of sex and hyp
###################################################
with(births, table(sex, hyp))


###################################################
### code chunk number 63: Create logical variable early
###################################################
early<-births$gestwks<30
table(early)


###################################################
### code chunk number 64: Cut matage into four groups
###################################################
births$agegrp  <- cut(births$matage, breaks=c(20,30,35,40,45), right=FALSE)
with(births, table(agegrp))


###################################################
### code chunk number 65: Summarize gestwks
###################################################
with(births, summary(gestwks))


###################################################
### code chunk number 66: Cut gestwks
###################################################
births$gest4 <- cut(births$gestwks, breaks=c(20,35,37,39,45))


