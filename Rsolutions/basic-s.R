## ----include=FALSE------------------------------------------------------------
knitr::opts_chunk$set(results = "markup", prefix.string = "./graph/basic")


## ----eval = FALSE-------------------------------------------------------------
## q()


## ----eval = FALSE-------------------------------------------------------------
## 12 + 16
## (12 + 16) * 5
## sqrt((12 + 16) * 5) # square root
## round(sqrt((12 + 16) * 5), 2) # round to two decimal places


## -----------------------------------------------------------------------------
(12 + 16) * 5


## -----------------------------------------------------------------------------
12 + 16 * 5


## ----eval = FALSE-------------------------------------------------------------
## a <- round(sqrt((12 + 16) * 5), 2)


## ----eval = FALSE-------------------------------------------------------------
## exp(a)
## log(a) # natural logarithm
## log10(a) # log to the base 10


## -----------------------------------------------------------------------------
v <- c(4, 6, 1, 2.2)


## -----------------------------------------------------------------------------
v
3 + v
3 * v


## -----------------------------------------------------------------------------
v <- c(4, 6, NA)
3 + v
3 * v


## -----------------------------------------------------------------------------
mean(v)


## -----------------------------------------------------------------------------
mean(v, na.rm = TRUE)


## -----------------------------------------------------------------------------
length(v)


## -----------------------------------------------------------------------------
1:10


## -----------------------------------------------------------------------------
seq(from = 15, to = 85, by = 5)


## -----------------------------------------------------------------------------
c(5, seq(from = 20, to = 85, by = 5))


## ----Create w,echo=F----------------------------------------------------------
w <- c(1, -1, 2, -2)


## ----Display w,echo=F---------------------------------------------------------
w


## ----Structure of w,echo=F----------------------------------------------------
str(w)


## ----Create and display w+1,echo=F--------------------------------------------
w + 1


## ----Create v,echo=F----------------------------------------------------------
v <- seq(5, 75, 5)
v


## ----Extend v,echo=F----------------------------------------------------------
v <- c(0, 1, v)
v


## ----Find length of v,echo=F--------------------------------------------------
length(v)


## -----------------------------------------------------------------------------
x <- c(2, 7, 0, 9, 10, 23, 11, 4, 7, 8, 6, 0)
x[4]
x[3:5]
x[c(1, 5, 8)]


## -----------------------------------------------------------------------------
N <- length(x)
x[N + 1]


## -----------------------------------------------------------------------------
x > 10
x[x > 10]


## -----------------------------------------------------------------------------
x[x >= 10 & x <= 20]


## -----------------------------------------------------------------------------
x[x < 10 | x > 20]


## -----------------------------------------------------------------------------
x[1] <- 1000
x


## -----------------------------------------------------------------------------
x[x == 0] <- 1
x


## -----------------------------------------------------------------------------
x[2:4] <- c(0, 8, 1)
x


## -----------------------------------------------------------------------------
y <- x[x < 3]
y <- y + 3
x[x < 3] <- y
x


## -----------------------------------------------------------------------------
x[x < 3] <- x[x < 3] + 3


## -----------------------------------------------------------------------------
x %% 2
ifelse(x %% 2 == 0, "even", "odd")


## -----------------------------------------------------------------------------
m <- list(4, TRUE, "name of company")
m


## -----------------------------------------------------------------------------
m[1:2] # A list containing first two elements of m
m[3] # A list containing the third element of m


## -----------------------------------------------------------------------------
m[[3]] # Extract third element


## -----------------------------------------------------------------------------
mylist <- list(
  name = c("Joe", "Ann", "Jack", "Tom"),
  age = c(34, 50, 27, 42)
)
mylist


## -----------------------------------------------------------------------------
mylist$name
mylist$age


## -----------------------------------------------------------------------------
mydata <- data.frame(
  name = c("Joe", "Ann", "Jack", "Tom"),
  age = c(34, 50, 27, 42), 
  sex = c(1, 2, 1, 1),
  height = c(185, 170, 175, 182)
)


## -----------------------------------------------------------------------------
mydata$height


## -----------------------------------------------------------------------------
mydata


## -----------------------------------------------------------------------------
mydata[1, ]
mydata[, c("age", "height")]
mydata[2, 4]


## -----------------------------------------------------------------------------
yourdata <- data.frame(
  name = c("Ann", "Peter", "Sue", "Jack", "Tom", "Joe", "Jane"),
  weight = c(67, 81, 56, 90, 72, 79, 69)
)


## -----------------------------------------------------------------------------
newdata <- merge(mydata, yourdata)
newdata


## -----------------------------------------------------------------------------
newdata <- merge(mydata, yourdata, all = TRUE)
newdata


## ----Looking at births data---------------------------------------------------
library(Epi)
data(births)
objects()


## ----eval = FALSE-------------------------------------------------------------
## help(births)


## -----------------------------------------------------------------------------
data(diet)


## -----------------------------------------------------------------------------
remove(diet)


## -----------------------------------------------------------------------------
head(births)


## -----------------------------------------------------------------------------
births[1, ]


## -----------------------------------------------------------------------------
births[2, ]


## -----------------------------------------------------------------------------
births[1:10, ]


## -----------------------------------------------------------------------------
subset(mydata, height < 180)


## -----------------------------------------------------------------------------
summary(births)


## -----------------------------------------------------------------------------
names(births)


## -----------------------------------------------------------------------------
summary(births$hyp)


## -----------------------------------------------------------------------------
with(births, summary(hyp))


## ----Create a new variable in the workspace-----------------------------------
logbw <- log(births$bweight)


## ----Create a new variable in the data frame----------------------------------
births$logbw <- log(births$bweight)


## -----------------------------------------------------------------------------
births$bweight <- births$bweight / 1000


## ----Convert hyp to be a factor-----------------------------------------------
births$hyp <- factor(births$hyp, labels = c("normal", "hyper"))


## ----:abel levels of sex,echo=F-----------------------------------------------
births$sex <- factor(births$sex, labels = c("M", "F"))


## ----Distribution of hyp------------------------------------------------------
with(births, table(hyp))


## ----Distribution of hyp 2----------------------------------------------------
table(births$hyp)


## ----Distribution of sex,echo=F-----------------------------------------------
table(births$sex)
with(births, table(sex))


## ----Joint distribution of sex and hyp,echo=F---------------------------------
with(births, table(sex, hyp))


## ----Create logical variable early,echo=F-------------------------------------
early <- births$gestwks < 30
table(early)


## ----Cut matage into four groups----------------------------------------------
births$agegrp <- 
  cut(
    births$matage, 
    breaks = c(20, 30, 35, 40, 45), 
    right = FALSE
  )
with(births, table(agegrp))


## ----Summarize gestwks, echo=F------------------------------------------------
with(births, summary(gestwks))


## ----Cut gestwks,echo=F-------------------------------------------------------
births$gest4 <- cut(births$gestwks, breaks = c(20, 35, 37, 39, 45))

